# config fo client
motan-client:
  log_dir: stdout
  application: video_recom # client identify.

# config of registries
motan-registry:
  direct-registry: # registry id
    protocol: direct # registry type. will get instance from extFactory.
    host: 127.0.0.1 # direct server ip in single ip. if has host, address will disable.
    port: 9981 # use server direct

# conf of basic refers
motan-basicRefer:
  abtest-rpc-basicRefer:
    group: aliyun-weibo-abtest-rpc-core-motan2-simple
    registry: direct-registry # registry id
    serialization: simple
    protocol: motan2
    requestTimeout: 1000 #业务方需求30～50ms
    haStrategy: backupRequest
    retries: 1
    filter: accessLog,metrics
    errorCountThreshold: 200
    backupRequestMaxRetryRatio: 50

# conf of refers
motan-refer:
  alchemy-rpc-refer:
    path: com.weibo.abtest.traffic.rpc.AlchemyJsonRpcService
    basicRefer: abtest-rpc-basicRefer